{"version":3,"file":"scripts.js","names":["_jquery","_interopRequireDefault","require","e","__esModule","$","document","ready","console","log","year","Date","getFullYear","text","makeInput","elem","str","elem2","num","length","concat","before","on","preventDefault","elemClass","attr","indexOf","closest","remove","hide","obj","parent","child","inputs","map","i","val","name","push","id","_id","html","show"],"sources":["../scripts.js"],"sourcesContent":["import $ from 'jquery';\r\n// import PouchDB from 'pouchdb';\r\n// var localDB = new PouchDB('attendees-2024');\r\n// var remoteDB = new PouchDB('http://david:LornaDamo206$@127.0.0.1:5984/attendees-2024');\r\n\r\n// console.log(PouchDB);\r\n\r\n$(document).ready(function () {\r\n    console.log(`ready`);\r\n\r\n    //? db info\r\n    // localDB.info().then((data) => {\r\n    //     console.log(data);\r\n    // }).catch((err) => {\r\n    //     console.log(err);\r\n    // });\r\n\r\n    // remoteDB.info().then((data) => {\r\n    //     console.log(data);\r\n    // }).catch((err) => {\r\n    //     console.log(err);\r\n    // });\r\n\r\n    //? replicate db\r\n    // localDB.replicate.to(remoteDB).on('complete', function (data) {\r\n    //     // yay, we're done!\r\n    //     console.log(`replicate successful`);\r\n    //     console.log(data);\r\n    // }).on('error', function (err) {\r\n    //     // boo, something went wrong!\r\n    //     console.log(`replicate NOT successful`);\r\n    //     console.log(err);\r\n    // });\r\n\r\n    //? sync db\r\n    // localDB.sync(remoteDB, {\r\n    //     live: true,\r\n    //     retry: true\r\n    // }).on('complete', function (data) {\r\n    //     // yay, we're done!\r\n    //     console.log(`sync successful`);\r\n    //     console.log(data);\r\n    // }).on('error', function (err) {\r\n    //     // boo, something went wrong!\r\n    //     console.log(`sync NOT successful`);\r\n    //     console.log(err);\r\n    // });\r\n\r\n    //? db changes\r\n    // remoteDB.changes({\r\n    //     since: 'now',\r\n    //     live: true,\r\n    //     include_docs: true\r\n    // }).on('change', function (change) {\r\n    //     // change.id contains the doc id, change.doc contains the docgit statyus\r\n    //     console.log(`remoteDB changed`);\r\n    //     console.log(change);\r\n\r\n    //     $('.c2 ul li').remove();\r\n\r\n    //     remoteDB.allDocs({ include_docs: true, descending: true }, function (err, data) {\r\n    //         console.log(data);\r\n\r\n    //         var family = data.rows;\r\n    //         family.map((val, i) => {\r\n    //             console.log(val, i);\r\n\r\n    //             var parents = val.doc.parent;\r\n    //             var children = val.doc.child;\r\n\r\n    //             var theParents = ``;\r\n    //             var theChildren = ``;\r\n\r\n    //             if (parents.length < 2) {\r\n    //                 theParents = `and their Parent ${parents[0]}`\r\n    //             } else {\r\n    //                 parents.map((arr, j) => {\r\n    //                     theParents = `${theParents} ${arr},`\r\n    //                 });\r\n\r\n    //                 theParents = `and their Parents ${theParents}`;\r\n    //             }\r\n\r\n    //             if (children.length < 2) {\r\n    //                 theChildren = `<span>${children[0]}</span>`;\r\n    //             } else {\r\n    //                 children.map((arr, j) => {\r\n    //                     theChildren = `${theChildren} <span>${arr}</span>,`\r\n    //                 });\r\n    //             }\r\n\r\n    //             var elem = `<li><div>${theChildren} ${theParents}</div></li>`;\r\n\r\n    //             $('.c2 ul').append(elem);\r\n    //         });\r\n\r\n    //     });\r\n\r\n    // }).on('error', function (err) {\r\n    //     // handle errors\r\n    //     console.log(`db changed error`);\r\n    //     console.log(err);\r\n    // });\r\n\r\n    var year = new Date().getFullYear();\r\n    $('header h1 span, footer p span').text(year);\r\n\r\n    var makeInput = (elem, str, elem2) => {\r\n        //?get number of inputs\r\n        var num = $(elem).length;\r\n        // console.log(num);\r\n\r\n        //?add 1\r\n        num = num + 1;\r\n\r\n        //?make the elem\r\n        var elem = `<div class=\"extra-input\">\r\n        <label>${str} Name</label>\r\n        <a class=\"remove-input\" href=\"#\">remove</a>\r\n        <input type=\"text\" name=\"${str}-${num}\" class=\"${str}\">\r\n        </div>`;\r\n\r\n        //?add the elem to the page\r\n        $(elem2).before(elem);\r\n    };\r\n\r\n    //? add more inputs\r\n    $('.add-more').on('click', function (e) {\r\n        e.preventDefault();\r\n        var elemClass = $(this).attr('class');\r\n        // console.log(elemClass);\r\n\r\n        if (elemClass.indexOf('parent') !== -1) {\r\n            // console.log(`adding input for parents`);\r\n            makeInput('input.parent', 'parent', 'button.add-more.parent');\r\n\r\n        } else {\r\n            // console.log(`adding input for children`)\r\n            makeInput('input.child', 'child', 'button.add-more.child');\r\n        }\r\n    })\r\n\r\n    //? remove extra inputs\r\n    $('body').on('click', '.remove-input', function (e) {\r\n        e.preventDefault();\r\n        console.log('removed input clicked');\r\n        $(this).closest('.extra-input').remove();\r\n    });\r\n\r\n    //? destroy db\r\n    // localDB.destroy().then((res) => {\r\n    //     console.log('destroyed db');\r\n    //     console.log(res);\r\n    // })\r\n\r\n    // remoteDB.destroy().then((res) => {\r\n    //     console.log('destroyed db');\r\n    //     console.log(res);\r\n    // })\r\n\r\n    //? on page load get db and show if any entries\r\n    // remoteDB.allDocs({ include_docs: true, descending: true }, function (err, data) {\r\n    //     // console.log(data);\r\n    //     if (data.rows.length > 0) {\r\n    //         var family = data.rows;\r\n    //         family.map((val, i) => {\r\n    //             // console.log(val, i);\r\n\r\n    //             var parents = val.doc.parent;\r\n    //             var children = val.doc.child;\r\n\r\n    //             var theParents = ``;\r\n    //             var theChildren = ``;\r\n\r\n    //             if (parents.length < 2) {\r\n    //                 theParents = `and their Parent ${parents[0]}`\r\n    //             } else {\r\n    //                 parents.map((arr, j) => {\r\n    //                     theParents = `${theParents} ${arr},`\r\n    //                 });\r\n\r\n    //                 theParents = `and their Parents ${theParents}`;\r\n    //             }\r\n\r\n    //             if (children.length < 2) {\r\n    //                 theChildren = `<span>${children[0]}</span>`;\r\n    //             } else {\r\n    //                 children.map((arr, j) => {\r\n    //                     theChildren = `${theChildren} <span>${arr}</span>,`\r\n    //                 });\r\n    //             }\r\n\r\n    //             var elem = `<li><div>${theChildren} ${theParents}</div></li>`;\r\n\r\n    //             $('.c2 ul').append(elem);\r\n    //         });\r\n    //     }\r\n    // });\r\n\r\n    $('.send').on('click', function (e) {\r\n        e.preventDefault();\r\n\r\n        $('.error-message').hide();\r\n        $('.error-message').text('');\r\n\r\n        var obj = {\r\n            parent: [],\r\n            child: []\r\n        };\r\n\r\n        //? get all the input and data\r\n        var inputs = $('input');\r\n        inputs.map((i, val) => {\r\n            // console.log(i, val);\r\n            if ($(val).val() !== '') {\r\n                // console.log($(val).val());\r\n                // console.log($(val).attr('name'));\r\n\r\n                var name = $(val).val();\r\n                var attr = $(val).attr('name');\r\n\r\n                if (attr.indexOf('parent') !== -1) {\r\n                    obj.parent.push(name);\r\n                } else {\r\n                    obj.child.push(name);\r\n                }\r\n            }\r\n        });\r\n\r\n        var id = `${$('input[name=\"child-1\"]').val()}-${$('input[name=\"parent-1\"]').val()}-2024`;\r\n        obj._id = id;\r\n\r\n        // console.log(obj);\r\n\r\n        if (obj.parent.length !== 0 && obj.child.length !== 0) {\r\n\r\n            //? send data to pouchdb\r\n            // localDB.put(obj).then(function (response) {\r\n            //     // handle response\r\n            //     console.log(response);\r\n            // }).then(function (data) {\r\n\r\n            // $('.c2 ul li').remove();\r\n\r\n            // remoteDB.allDocs({ include_docs: true, descending: true }, function (err, data) {\r\n            //     console.log(data);\r\n\r\n            //     var family = data.rows;\r\n            //     family.map((val, i) => {\r\n            //         console.log(val, i);\r\n\r\n            //         var parents = val.doc.parent;\r\n            //         var children = val.doc.child;\r\n\r\n            //         var theParents = ``;\r\n            //         var theChildren = ``;\r\n\r\n            //         if (parents.length < 2) {\r\n            //             theParents = `and their Parent ${parents[0]}`\r\n            //         } else {\r\n            //             parents.map((arr, j) => {\r\n            //                 theParents = `${theParents} ${arr},`\r\n            //             });\r\n\r\n            //             theParents = `and their Parents ${theParents}`;\r\n            //         }\r\n\r\n            //         if (children.length < 2) {\r\n            //             theChildren = `<span>${children[0]}</span>`;\r\n            //         } else {\r\n            //             children.map((arr, j) => {\r\n            //                 theChildren = `${theChildren} <span>${arr}</span>,`\r\n            //             });\r\n            //         }\r\n\r\n            //         var elem = `<li><div>${theChildren} ${theParents}</div></li>`;\r\n\r\n            //         $('.c2 ul').append(elem);\r\n            //     });\r\n\r\n            // });\r\n\r\n            // }).catch(function (err) {\r\n            //     console.log(`oops something went wrong.`)\r\n            //     console.log(err);\r\n\r\n            //     if (err.status == 409) {\r\n            //         console.log(err.message);\r\n            //         var names = err.id;\r\n            //         names = names.split('-');\r\n            //         var str = `Looks like <span>${names[0]}</span> and <span>${names[1]}</span> has already been submitted.`;\r\n            //         $('.error-message').html(str).show();\r\n            //     }\r\n            // });\r\n\r\n        } else {\r\n            var str = `Please enter a <span>parent</span> name and a <span>child</span> name.`;\r\n            $('.error-message').html(str).show();\r\n        }\r\n\r\n\r\n    });\r\n});"],"mappings":"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","ignoreList":[]}